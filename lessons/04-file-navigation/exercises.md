# 練習問題

## 練習1: バッファ操作の基本

**目標**: バッファの概念と基本操作を理解する

**開始**: サンプルプロジェクトディレクトリで作業

**手順**:
1. Neovimでプロジェクトディレクトリを開く: `nvim practice/start/sample-project/`
2. 以下のファイルを順番に開く：
   - `:e src/main.js`
   - `:e src/utils/userManager.js`
   - `:e config/app.json`
   - `:e tests/unit/userManager.test.js`

**バッファ操作の練習**:
- `:ls` でバッファリストを確認
- `:bn` と `:bp` でバッファ間を移動
- `:b main` でファイル名の一部指定で移動
- `:b#` で直前のバッファに戻る

**チェックポイント**:
- [ ] 4つのファイルがすべてバッファに読み込まれているか
- [ ] バッファ間をスムーズに移動できるか
- [ ] `:ls` の出力で現在のバッファ状態を理解できるか

## 練習2: ウィンドウ分割の活用

**目標**: 画面分割で複数ファイルを同時表示・編集

**タスク1: 水平分割でのデバッグ作業**
```vim
" 1. メインファイルを開く
:e src/main.js

" 2. 設定ファイルを下に分割表示
:split config/app.json

" 3. ウィンドウ間を移動
Ctrl-w j  " 下のウィンドウ（設定ファイル）
Ctrl-w k  " 上のウィンドウ（メインファイル）

" 4. ウィンドウサイズを調整
Ctrl-w +  " 高さを増加
Ctrl-w -  " 高さを減少
```

**タスク2: 垂直分割でのコード比較**
```vim
" 1. ユーザー管理ファイルを開く
:e src/utils/userManager.js

" 2. テストファイルを右に分割表示
:vsplit tests/unit/userManager.test.js

" 3. 左右のウィンドウで対応する関数を確認
" 左: authenticateUser メソッド
" 右: Authentication テストケース
```

**応用練習**:
- 4分割でコード、テスト、設定、ドキュメントを同時表示
- `Ctrl-w =` でウィンドウサイズを均等に調整
- `Ctrl-w o` で現在のウィンドウ以外を閉じる

## 練習3: タブによる作業エリア管理

**目標**: タブを使った効率的なプロジェクト管理

**シナリオ**: 新機能開発とバグ修正を並行作業

**タブ1: 新機能開発**
```vim
:tabnew
:e src/components/Dashboard.js
:vsplit src/utils/apiClient.js
```

**タブ2: バグ修正作業**
```vim
:tabnew
:e src/utils/userManager.js
:split tests/unit/userManager.test.js
```

**タブ3: 設定・ドキュメント**
```vim
:tabnew
:e config/app.json
:split README.md
```

**タブ操作の練習**:
- `gt` / `gT` でタブ切り替え
- `3gt` で3番目のタブに直接移動
- `:tabs` でタブリスト確認
- `:tabclose` でタブを閉じる

## 練習4: ファイルエクスプローラの活用

**目標**: 効率的なファイルナビゲーション

**Netrwの基本操作**:
1. `:Ex` でファイルエクスプローラを開く
2. ディレクトリ構造を確認：
   ```
   sample-project/
   ├── src/
   │   ├── components/
   │   ├── utils/
   │   └── main.js
   ├── tests/
   ├── config/
   └── docs/
   ```

**Netrwでの操作練習**:
- `Enter` でファイル/ディレクトリを開く
- `-` で親ディレクトリに移動
- `%` で新しいファイルを作成
- `d` で新しいディレクトリを作成

**分割表示でのファイル選択**:
```vim
:Vex        " 左にファイルエクスプローラ
:Sex        " 上にファイルエクスプローラ
```

## 練習5: 実践的なワークフロー

**目標**: 実際の開発シーンでの複数ファイル操作

**シナリオ**: ユーザー認証機能のリファクタリング

**ステップ1: 現状確認**
```vim
" メインファイルでユーザー認証の使用箇所を確認
:e src/main.js
/useAuth  " 認証関連を検索

" ユーザー管理ファイルを分割表示
:vsplit src/utils/userManager.js
```

**ステップ2: テストの確認**
```vim
" 新しいタブでテスト環境
:tabnew
:e tests/unit/userManager.test.js
/Authentication  " 認証テストを検索
```

**ステップ3: 設定の確認**
```vim
" 設定ファイルを下に分割
:split config/app.json
/authentication  " 認証設定を検索
```

**実践的な編集作業**:
1. 各ファイルで関連する箇所を見つける
2. 複数ファイル間でコードをコピー・移動
3. 変更をすべてのファイルで保存: `:wa`

## 練習6: 高度なファイル操作

**目標**: より効率的なファイル管理テクニック

**複数ファイルの一括操作**:
```vim
" 複数のJavaScriptファイルを開く
:args src/**/*.js

" 全ファイルで検索・置換
:argdo %s/console\.log/console\.debug/ge
:argdo update  " 全ファイルを保存
```

**バッファでの一括操作**:
```vim
" 開いているすべてのバッファで操作
:bufdo %s/oldFunction/newFunction/ge
:wall  " 全バッファを保存
```

**ファイル検索と移動**:
```vim
" ワイルドカードでファイルを開く
:e **/*test*    " テストファイルを検索
:e **/user*     " userを含むファイルを検索

" パスの補完を活用
:e src/<Tab>    " Tabで補完
```

## チャレンジ問題

### チャレンジ1: ワークスペース設定

**目標**: 理想的な開発環境を30秒で構築

**要件**:
- タブ1: メイン開発（main.js + userManager.js 垂直分割）
- タブ2: テスト環境（テストファイル単独）
- タブ3: 設定・ドキュメント（app.json + README.md 水平分割）

**時間制限**: 30秒以内で完了

### チャレンジ2: 大規模ファイル検索

**目標**: プロジェクト全体から特定のパターンを効率的に見つける

**タスク**:
1. `console.log` を使用している箇所をすべて見つける
2. `TODO` コメントをすべて確認
3. 未使用のインポート文を特定

**ツール**: `:vimgrep`, `:copen`, `:cnext`, `:cprev`

### チャレンジ3: セッション管理

**目標**: 作業環境の保存と復元

```vim
" セッションを保存
:mksession! development.vim

" セッションを復元
:source development.vim
```

複雑なタブ・ウィンドウ構成を保存し、完全に復元できるか挑戦。

## 自己評価チェックリスト

### 基本操作
- [ ] バッファ、ウィンドウ、タブの概念を理解している
- [ ] `:ls`, `:bn`, `:bp` でバッファ操作ができる
- [ ] `Ctrl-w` 系コマンドでウィンドウ操作ができる
- [ ] `gt`, `gT`, `:tabnew` でタブ操作ができる

### 実践的スキル
- [ ] 複数ファイルを効率的に開いて切り替えられる
- [ ] 適切な画面分割で作業効率を向上できる
- [ ] タブを使って作業エリアを整理できる
- [ ] ファイルエクスプローラを活用してナビゲートできる

### 高度な操作
- [ ] 複数ファイルでの一括操作ができる
- [ ] 検索結果を活用したファイル移動ができる
- [ ] セッション管理で作業環境を保存・復元できる
- [ ] 実際のプロジェクトで学んだテクニックを活用できる

## 次のステップ

Phase 1の基本編を完了しました！次は：

1. **プラグイン活用**: Telescope、Neo-tree、LSPを使った更に効率的なファイル操作
2. **実践的なプロジェクト**: TypeScript TODO APIでの総合演習
3. **カスタマイズ**: 個人の作業スタイルに合わせた設定調整

基本的なファイル・ウィンドウ操作をマスターすることで、より高度なNeovim機能の土台が完成しました！