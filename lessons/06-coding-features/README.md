# レッスン6: コーディング機能深掘り - LSP・補完・フォーマッティング

## 概要
このレッスンでは、LazyVimの強力なコーディング支援機能を深く掘り下げます。Language Server Protocol (LSP)、高度な補完機能、自動フォーマッティング、リンター統合など、モダンな開発環境の中核機能をマスターし、プロフェッショナルレベルの開発効率を実現します。

## 学習目標

### 主要目標
- [ ] LSPの高度な機能（コードアクション、リファクタリング）を使いこなす
- [ ] nvim-cmpによる補完システムを完全に理解し、カスタマイズできる
- [ ] フォーマッター・リンターを効果的に統合・活用できる
- [ ] 言語別のLSP最適化と設定管理ができる

### 具体的なスキル
- [ ] コードアクション（`<leader>ca`）による自動修正・リファクタリング
- [ ] 補完ソースの理解と優先順位設定
- [ ] conform.nvimによる自動フォーマッティング設定
- [ ] 診断情報の効率的な確認と修正
- [ ] 言語別LSPサーバーの設定とトラブルシューティング

## 前提知識
- LazyVimの基本操作（レッスン1-3完了）
- 基本的なLSP機能の理解（定義ジャンプ、ホバー）
- プログラミング言語の基礎知識
- Git操作の基本

## 学習内容

### 1. LSPの高度な活用
- LSPサーバーの仕組みと設定
- コードアクションとクイックフィックス
- リファクタリング機能（リネーム、抽出、移動）
- ワークスペースシンボル検索
- 階層的なナビゲーション（型階層、呼び出し階層）

### 2. 補完システムの完全理解
- nvim-cmpのアーキテクチャ
- 補完ソース（LSP、バッファ、パス、スニペット）
- 補完の優先順位とフィルタリング
- カスタムスニペットの作成と管理
- コンテキスト依存の補完設定

### 3. フォーマッティング・リンティング
- conform.nvimによる自動フォーマッティング
- 複数フォーマッターの連携
- 保存時自動フォーマットの設定
- リンター統合と診断表示
- エラー・警告の効率的な修正ワークフロー

### 4. 言語別最適化
- TypeScript/JavaScript用設定
- Python用設定（black、ruff、mypy）
- Go用設定（gofmt、golangci-lint）
- Rust用設定（rustfmt、clippy）
- 複数言語プロジェクトでの設定管理

## 練習環境
- `practice/typescript/` - TypeScriptプロジェクトでのLSP練習
- `practice/python/` - Python開発環境での練習
- `practice/multi-language/` - 複数言語混在プロジェクト

## 推定学習時間
- 基礎理解: 45分
- 実践練習: 90分
- 応用設定: 45分
- 合計: 約3時間

## 次のステップ
このレッスン完了後は、以下のレッスンへ進むことを推奨します：
- レッスン7: デバッグとテスト統合
- レッスン8: LazyVimカスタマイズ

## 補足リソース
- [nvim-lspconfig Wiki](https://github.com/neovim/nvim-lspconfig/wiki)
- [nvim-cmp Documentation](https://github.com/hrsh7th/nvim-cmp)
- [conform.nvim](https://github.com/stevearc/conform.nvim)